CREATE TABLE VENDEDOR(
  ID_EMPLEADO NUMBER(5) CONSTRAINT PK_VENDEDOR PRIMARY KEY,
  NUMRUT NUMBER(10) NOT NULL,
  DVRUT VARCHAR2(1 BYTE) NOT NULL,
  PNNOMBRE VARCHAR2(20) NOT NULL,
  SNOMBRE VARCHAR2(20),
  APPATERNO VARCHAR2(20) NOT NULL,
  APMATERNO VARCHAR2(20) NOT NULL,
  FECHA_CONTRATO DATE NOT NULL,
  SUELDO_BASE NUMBER(7) NOT NULL CONSTRAINT SV_SUELDO CHECK(SUELDO_BASE > 440000)
);

CREATE TABLE BOLETA(
    NRO_BOLETA NUMBER(8) CONSTRAINT PK_BOLETA PRIMARY KEY,
    ID_EMPLEADO NUMBER(5) NOT NULL,
    FECHA_BOLETA DATE NOT NULL,
    MONTO_TOTAL NUMBER(8) NOT NULL CONSTRAINT MT_TOTAl CHECK (MONTO_TOTAL > 0),
    CONSTRAINT FK_BOLETA FOREIGN KEY (ID_EMPLEADO) REFERENCES VENDEDOR(ID_EMPLEADO)
);

CREATE TABLE COMISION_BOLETA(
    NRO_BOLETA NUMBER(5) NOT NULL,
    ID_EMPLEADO NUMBER(5) NOT NULL,
    MONTO_COMISION NUMBER(8) NOT NULL
);

ALTER TABLE COMISION_BOLETA ADD CONSTRAINT PRIMARY KEY(NRO_BOLETA, ID_EMPLEADO);

ALTER TABLE COMISION_BOLETA ADD CONSTRAINT FK_COMISION FOREIGN KEY (NRO_BOLETA) REFERENCES BOLETA(NRO_BOLETA);
ALTER TABLE COMISION_BOLETA ADD CONSTRAINT FK2_COMISION FOREIGN KEY (ID_EMPLEADO) REFERENCES VENDEDOR(ID_EMPLEADO);

SELECT * FROM VENDEDOR;

SELECT * FROM BOLETA;

--MUESTRA LA IFORMACION DE LAS TABLAS
SELECT * FROM COMISION_BOLETA;


--ELIMINAR TABLA:
--DROP TABLE VENDEDOR CASCADE CONSTRAINS

--MOSTARAR CONTENIDO DE TABLE
--DESC BOLETA

--ELIMINAR DATOS DE LAS TABLAS SIN ELIMINAR LAS TABLAS
--TRUNCATE TABLE COMUNA; 

--ELIMINAR DATO DE LA TABLA 
--DELETE CLIENTE 
--WHERE NUMRUT_CLI = 014012

INSERT INTO VENDEDOR VALUES(1, '16255478','K', 'PABLO', NULL, 'PEREZ', 'SOTO', '01/03/20', 460000);
INSERT INTO VENDEDOR VALUES(2, '204567891', '1', 'CARLOS', 'ANTONIO', 'CASTRO', 'AGUILERA', '01/02/20', 460000);
INSERT INTO VENDEDOR VALUES(3, '234771369', '6', 'MIGUEL', 'ALEJANDRO', 'AGUILAR', 'SOTO', '15/04/22', 480000);
INSERT INTO VENDEDOR VALUES(4, '20697891', '0', 'ANTONIO', NULL, 'PEREZ', 'TOLEDO', '02/05/21', 500000);
INSERT INTO VENDEDOR VALUES(5, '20123321', 'K', 'JORGE', NULL, 'ÁLVEREZ', 'RODRÍGUEZ', '01/07/22', 750000);

INSERT INTO BOLETA VALUES(1, 3, '02/08/23', 75990);
INSERT INTO BOLETA VALUES(2, 1, '03/09/23', 15990);
INSERT INTO BOLETA VALUES(3, 1, '15/12/23', 1590);
INSERT INTO BOLETA VALUES(4, 2, '01/02/24', 850);
INSERT INTO BOLETA VALUES(5, 3, '02/08/23', 7990);

INSERT INTO COMISION_BOLETA VALUES(1, 3, 9750);
INSERT INTO COMISION_BOLETA VALUES(2, 1, 3600);
INSERT INTO COMISION_BOLETA VALUES(3, 1, 150000);
INSERT INTO COMISION_BOLETA VALUES(4, 2, 970);
INSERT INTO COMISION_BOLETA VALUES(5, 3, 5876);
